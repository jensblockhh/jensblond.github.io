<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Web-Montag Hamburg</title>

		<meta name="description" content="Web-Montag Hamburg">
		<meta name="author" content="Jens Hinrichs">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/wlw.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section id="first">
					<h2>Web-Montag Hamburg</h2>
					<h3 class="green">Jens Hinrichs • Head of Web Development</h3>
					<br/>
					<div class="bg" style="height:650px">
						<img src="img/wlw_basislogo.png" style="width:400px;position: absolute; bottom:-29px; right:-34px">
					</div>
				</section>
				<section class="content">
					<h3 class="border">Infos zu wlw</h3>
					<div class="cont">
						<h3 class="green">„Wer liefert was“ Kurzvorstellung</h3>
						<div class="cont">
							<div class="left">
								„Wer liefert was“ ist die <span class="green">führende</span> professionelle Anbietersuche in Deutschland, Österreich und der Schweiz. Als meistbesuchte Internetseite für den Einkauf im B-to-B-Segment verzeichnet wlw jährlich <span class="green">24 Mio. Visits</span>. Auf der wlw Webseite treffen monatlich <span class="green">1,6 Millionen Einkäufer</span> mit echtem Bedarf auf mehr als <span class="green">500.000 Lieferanten, Hersteller, Händler und Dienstleister</span>. Als Spezialist für die Lieferanten-Suche erspart wlw Einkäufern und anderen, die im <span class="green">B2B</span>-Segment nach Anbietern suchen, zeitintensive Zusatzrecherchen.
								<br/>
								<br/>

								<ul>
									<li class="fragment roll-in">„Wer liefert was“ wurde 1932 gegründet</li>
									<li class="fragment roll-in">Derzeit arbeiten ca 180 Mitarbeiter bei wlw</li>
									<li class="fragment roll-in">davon 15 Ruby Developer und 10 SAP Entwickler</li>
									<li class="fragment roll-in">Ruby on Rails, PostgreSQL, ElasticSearch, Angular.js, RabbitMQ, uvm.</li>
								</ul>
							</div>
						</div>
						
					</div>
					<footer>
						<div style="margin-top:70px;float:left">
							<div class="line"><hr/></div>
							<div style="float:left;padding:0 20px;"> 1 </div>
							<div class="line"><hr/></div>
						</div>
						<img src="img/wlw_basislogo.png" style="width:200px;float:right">
					</footer>
				</section>
				<section>
					<section class="content">
						<h3 class="border">Systemlandschaft 2012</h3>
							<div class="cont">
								<div class="left">
									Vor <span class="green">3 Jahren</span> wurde von einer <span class="green">Java Web Application</span> auf eine <span class="green">Ruby on Rails</span> Applikation umgestellt. Da schon damals SAP das führende System war, kamen die Daten in der Rails Applikation über einen <span class="green">nächtlichen SAP JSON Export</span>. 
									<br/>
									<br/>
									Leider gab es <span class="green">jede Nacht einen Vollexport/Import</span>, auch die <span class="green">CouchDB</span> und der <span class="green">ElasticSearch Index</span> wurden jede Nacht neu "gebaut". Das ganze hat mind. <span class="green">6 Stunden</span> gedauert, was zur Folge hatte, dass Änderungen von Kunden, erst <span class="green">am nächsten Tag</span> online waren.
									<br/>
									<br/>
									Außerdem war die einzige Möglichkeit, sich selber bei wlw einzutragen, ein Web-Frontend von SAP <span class="green">(Web Dynpro)</span>. Leider lief es nur auf dem <span class="green">Firefox unter Windows</span>.
								</div>
							</div>
						<footer>
							<div style="margin-top:70px;float:left">
								<div class="line"><hr/></div>
								<div style="float:left;padding:0 20px;"> 2 </div>
								<div class="line"><hr/></div>
							</div>
							<img src="img/wlw_basislogo.png" style="width:200px;float:right">
						</footer>
					</section>
					<section class="content">
						<h3 class="border">Systemlandschaft 2012</h3>
						<div class="cont">
							<img src="img/2011.png">
						</div>
						<footer>
							<div style="margin-top:70px;float:left">
								<div class="line"><hr/></div>
								<div style="float:left;padding:0 20px;"> 2 </div>
								<div class="line"><hr/></div>
							</div>
							<img src="img/wlw_basislogo.png" style="width:200px;float:right">
						</footer>
					</section>
				</section>
				<section class="content">
					<h3 class="border">Problem 1: Der Import</h3>
					<div class="cont">
						<div class="left">
							Da der <span class="green">Vollexport</span> zusammen mit dem <span class="green">Komplett-Austausch</span> der DB und des Indexes viele <span class="green">Nachteile</span> mit sich brachten, mussten wir hier aktiv werden. <br/><br/>Folgende Maßnahmen wurden getroffen:
							<br/><br/>
							<ul>
								<li class="fragment roll-in">SAP exportiert nur noch ein <span class="green">Delta</span></li>
								<li class="fragment roll-in">Der Import Prozess wurde umgebaut <span class="green">(Updates)</span></li>
								<li class="fragment roll-in">CouchDB durch <span class="green">PostgreSQL</span> ersetzt</li>
							</ul>
						</div>
					</div>
					<footer>
						<div style="margin-top:70px;float:left">
							<div class="line"><hr/></div>
							<div style="float:left;padding:0 20px;"> 3 </div>
							<div class="line"><hr/></div>
						</div>
						<img src="img/wlw_basislogo.png" style="width:200px;float:right">
					</footer>
				</section>
				<section class="content">
					<h3 class="border">Problem 2: Web Dynpro (Selbsteintrager)</h3>
						<div class="cont">
							<div class="left">
								Dadurch, dass das <span class="green">Web-Frontend von SAP</span> nur mit Firefox unter Windows zuverlässig lief, haben wir hier viele potenzielle <span class="green">Kunden</span> verloren. Außerdem konnte man bis vor kurzem, kein <span class="green">Upsell</span> auf der Webseite tätigen.<br/><br/>
								Hier haben wir den Zustand folgendermaßen verändert:<br/><br/>
								<ul>
								<li class="fragment roll-in">SAP hat eine <span class="green">REST API</span> gebaut, mit der Firmeneinträge gespeichert werden konnten</li>
								<li class="fragment roll-in">Es wurde eine weitere <span class="green">Rails App</span> entwickelt, die mithilfe von <span class="green">Angular.js</span> die <span class="green">REST API</span> genutzt hat.</li>
								<li class="fragment roll-in">Der <span class="green">Upsell Prozess</span> in der Rails App implementiert.</li>
							</ul>
							</div>
						</div>
					<footer>
						<div style="margin-top:70px;float:left">
							<div class="line"><hr/></div>
							<div style="float:left;padding:0 20px;"> 4 </div>
							<div class="line"><hr/></div>
						</div>
						<img src="img/wlw_basislogo.png" style="width:200px;float:right">
					</footer>
				</section>
				<section class="content">
					<h3 class="border">Problem 3: Kein Instant Update</h3>
						<div class="cont left">
							Mit dem <span class="green">neuen Importer</span> konnten wir zwar den Import <span class="green">beschleunigen</span>, doch wir hatten immer noch ein <span class="green">nächtlichen Export</span> der Daten. Damit wir ein <span class="green">Instant Update</span> der SAP Daten ins Web machen können, haben wir uns entschieden auf einen <span class="green">Message Bus</span> zu setzen. In diesem Falle auf <span class="green">RabbitMQ</span>. Leider gibt es <span class="green">keine native Anbindung</span> von SAP an RabbitMQ, daher haben wir einen <span class="green">Sinatra-Proxy</span> der eine <span class="green">REST-API</span> implementiert hat entwicklet.
							<br/>
							<br/>
							Der Ablauf sieht nun folgendermaßen aus:
							<br/>
							<br/>
							<ul>
								<li class="fragment roll-in">SAP ruft eine REST-API auf, sobald eine Firma hinzugekommen, geändert oder gelöscht wurde.</li>
								<li class="fragment roll-in">Die Sinatra-Proxy App erstellt eine AMQP Message</li>
								<li class="fragment roll-in">Ein AMQP Subscriber startet einen Import Prozess</li>
								<li class="fragment roll-in">Der Import Prozess ruft eine REST-API von SAP auf, Rückmeldung ist ein JSON mit den Firmendaten</li>
								<li class="fragment roll-in">Das JSON wird geparst, validiert und verarbeitet</li>
							</ul>
						</div>
					<footer>
						<div style="margin-top:70px;float:left">
							<div class="line"><hr/></div>
							<div style="float:left;padding:0 20px;"> 5 </div>
							<div class="line"><hr/></div>
						</div>
						<img src="img/wlw_basislogo.png" style="width:200px;float:right">
					</footer>
				</section>
				<section>
					<section class="content">
						<h3 class="border">Problem 4: Medienverarbeitung</h3>
							<div class="cont left">
								Als Firma kann man bei wlw <span class="green">Bilder, PDFs und Videos</span> hochladen. Bis jetzt gab es einen Prozess, der die Medien auf einen <span class="green">Fileserver ablegt</span>, dort wird es mit einem <span class="green">Python Script</span> runtergerechnet und dann auf die <span class="green">Asset Server verteilt</span>. Danach wurde eine <span class="green">CSV Datei</span> erstellt, die dann wieder in SAP eingelesen wurden. Im Export von SAP wurde dann auf die verarbeitete Datei referenziert. Im Web gab es dadurch wenig Spielraum was die <span class="green">Größen und Qualitäten</span> der Medien anging.
								<br/><br/>
								Der Prozess wurde folgendermaßen umgestellt:
								<br/><br/>
								<ul>
									<li class="fragment roll-in">Es wird eine Ruby Applikation erstellt, die eine <span class="green">REST-API</span> implementiert hat</li>
									<li class="fragment roll-in">Die App greift auf einen <span class="green">NFS Server</span> zu und liefert die Medien zurück</li>
									<li class="fragment roll-in">Verschiedene <span class="green">Bildgrößen</span> können angegeben werden. Die <span class="green">Skalierung</span> übernimmt die API</li>
									<li class="fragment roll-in">Videos werden in die <span class="green">verschiedenen Formate</span> konvertiert</li>
									<li class="fragment roll-in">SAP wird bei Dateiänderung eine REST-API aufrufen, die eine <span class="green">AMQP Message</span> erstellt.</li>
								</ul>
							</div>
						<footer>
							<div style="margin-top:70px;float:left">
								<div class="line"><hr/></div>
								<div style="float:left;padding:0 20px;"> 6 </div>
								<div class="line"><hr/></div>
							</div>
							<img src="img/wlw_basislogo.png" style="width:200px;float:right">
						</footer>
					</section>
					<section class="content">
						<h3 class="border">Problem 4: Medienverarbeitung</h3>
						<div class="cont">
							<img src="img/bilder.gif">
						</div>
					</section>
				</section>
				<section>
					<section class="content">
						<h3 class="border">Problem 5: Web Dynpro und HTMLB</h3>
							<div class="cont">
								<div class="left">
									In <span class="green">SAP</span> gibt es die Möglichkeit HTML auszuliefern, das geschieht entweder über <span class="green">Web Dynpro oder BSP (JSP Equivalent)</span>. Bei wlw werden beide Frameworks eingesetzt. Mit Web Dynpro gibt es leider große <span class="green">Probleme</span> was die <span class="green">Gestaltung</span> angeht, da das "html" zusammen geklickt wird. Im BSP Framework wurde teilweise auf <span class="green">HTMLB (HTML-Business for Java)</span> gesetzt, auch hier gab es Gestaltungsprobleme und <span class="green">Performance Probleme</span>.<br/>
									In der SAP Entwicklung wurde nun auf moderne <span class="green">SPA Techniken</span> gesetzt. Es wurde ein simpler <span class="green">BSP Controller</span> erstellt, der ein <span class="green">View</span> rendert. In dem View wurde die ganze Logik über <span class="green">Angular.js und JSON APIs aus SAP</span> umgesetzt. Zusätzlich wurde dem ganzen ein moderner Look, durch das <span class="green">Frontend Framework Bootstrap</span> verpasst.
								</div>
							</div>
							<br/>
						<footer>
							<div style="margin-top:70px;float:left">
								<div class="line"><hr/></div>
								<div style="float:left;padding:0 20px;"> 7 </div>
								<div class="line"><hr/></div>
							</div>
							<img src="img/wlw_basislogo.png" style="width:200px;float:right">
						</footer>
					</section>
					<section class="content">
						<h3 class="border">Problem 5: Web Dynpro und HTMLB</h3>
						<div class="cont">
							<img src="img/planung.png">
						</div>
					</section>					<section class="content">
						<h3 class="border">Problem 5: Web Dynpro und HTMLB</h3>
						<div class="cont">
							<img src="img/dynpro.png">
						</div>
					</section>
					<section class="content">
						<h3 class="border">Problem 5: Web Dynpro und HTMLB</h3>
						<div class="cont">
							<img src="img/bootstrap.png">
						</div>
					</section>
				</section>
				<section class="content">
					<h3 class="border">Zusammenfassung</h3>
						<div class="cont">
							<div class="left">
							Eine Zusammenarbeit zwischen modernen Webframeworks wie <span class="green">Ruby on Rails</span> und Enterprice Software wie <span class="green">SAP</span> ist möglich.<br/>
							<br/>
							Wenn:
							<br/><br/>
							<ul>
								<li class="fragment roll-in">Die verschiedenen Abteilungen mit <span class="green">Respekt</span> zusammenarbeiten</li>
								<li class="fragment roll-in"><span class="green">Mutige Wege</span> eingeschlagen werden und <span class="green">moderne Technolgien</span> eingesetzt werden</li>
								<li class="fragment roll-in">Über <span class="green">APIs</span> und einen <span class="green">MessageBus</span> kommuniziert wird</li>
								<li class="fragment roll-in">Über den <span class="green">Tellerrand</span> geschaut wird!</li>
							</ul>

							</div>
						</div>
						<br/>
					<footer>
						<div style="margin-top:70px;float:left">
							<div class="line"><hr/></div>
							<div style="float:left;padding:0 20px;"> 8 </div>
							<div class="line"><hr/></div>
						</div>
						<img src="img/wlw_basislogo.png" style="width:200px;float:right">
					</footer>
				</section>
				<section class="content">
					<h3 class="border">Fragen?</h3>
						<div class="cont">
							<div class="fragment fade-out" style="position:absolute;left:350px">
								<img src="img/question.gif" class="fade-out">
							</div>
							<div class="fragment fade-in" style="position:absolute;left:350px">
								<img src="img/thankyou.gif" class="fragment fade-out">
							</div>
						</div>
						<br/>
					<footer>
						<div style="margin-top:70px;float:left">
							<div class="line"><hr/></div>
							<div style="float:left;padding:0 20px;"> 9 </div>
							<div class="line"><hr/></div>
						</div>
						<img src="img/wlw_basislogo.png" style="width:200px;float:right">
					</footer>
				</section>
			</div>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: false,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
